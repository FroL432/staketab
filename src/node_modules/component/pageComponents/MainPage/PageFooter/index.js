import React, {useState} from 'react'
import './PageFooter.sass'
import SocialLinksBar from 'component/pageComponents/MainPage/SocialLinksBar'
import FooterBg from 'assets/img/FooterBg.jpg'
import { NavLink } from 'react-router-dom'
import {ReactComponent as StakeTabLogo} from "assets/img/staketabLogo.svg";
import classNames from "classnames";

export default function PageFooter(props) {

  const year = (new Date).getFullYear()

  const scrollToRef = (e, ref) => {
    e.preventDefault()
    window.scrollTo({top: ref.current.offsetTop, behavior: 'smooth'})
  }
  const isExternalLink = (link) => (link[0] === "/" ? false : true);

  return (
    <footer className={classNames(`pageFooter`, {"pageFooter__inversed": props.inverse}, props.classNames)} style={props.inverse ? {backgroundImage: `url(${FooterBg})`} : null}>
      <div className={`container ${props.containerClassName}`}>
        <div className="pageFooter__row">
          <div>
            <div className="pageFooter__col">
              <a onClick={e => scrollToRef(e, props.refs.topRef)} className="pageFooter__title"><StakeTabLogo/></a>
              <p className="pageFooter__copyright">Â© {year} Staketab.com</p>
            </div>
          </div>
          <div className={"pageFooter__links"}>
            {props.links ? props.links.columns.map((elem) =>
              <div key={elem.title} className="pageFooter__col">
                {elem.links.map((link) =>
                  link.ref ?
                    <a key={link.link} onClick={e => scrollToRef(e, link.ref)} className={"pageFooter__title"}>{link.title}</a>
                    :
                    isExternalLink(link.link) ?
                      <a key={link.link} className="pageFooter__title" href={link.link} target="_blank">
                        {link.title}
                      </a> :
                      <NavLink key={link.link} to={link.link} className="pageFooter__title">{link.title}</NavLink>
                )}
              </div>
            ) : null}

          <div className="pageFooter__col">
            <p className="pageFooter__title">Follow us</p>
            <SocialLinksBar horizontal transparent noPadding/>
          </div>
          </div>
        </div>
      </div>
    </footer>
  )
}
