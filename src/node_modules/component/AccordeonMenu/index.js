import React, { useState } from 'react'
import './AccordeonMenu.sass'
import { ReactComponent as MenuExpandIcon } from 'assets/img/MenuExpandIcon.svg'
import { ReactComponent as CloseIcon } from 'assets/img/CloseIcon.svg'

export default function AccordeonMenu() {

  const expandedStyle = {
    maxHeight: '100%',
    opacity: 1
  }

  const [expanded, setExpanded] = useState([])

  const items = [
    {
      question: 'What is staking?',
      text: <p>Staking is like a bank deposit but in crypto. A bank pays you interest because it can use your money. Similarly, a validator pays you interest for using your cryptocurrency in staking.
      <br /><br />
      Staking is a process of helping a blockchain system to maintain the operations, e. g. mining crypto or transaction validation. That is why participating in staking is rewarded. The more coins validator hold, the more mining power he has or the more blocks it can produce. To get more coins, a validator borrows them from a delegator and pays the delegator interest.
      <br /><br />
      A staker is a person who lends money to a host of a computational node that produces blocks in the blockchain. In the language of cryptoworld it sounds as follows: "The delegator delegates funds to the validator.”.
      <br /><br />
      Staking benefits all parties: the validator has better chances to produce a block, and the delegator has a consistent passive income in crypto he delegates.
      <br /><br />
      Not all cryptocurrencies have a stacking option. This option is available for crypto with blockchain on PoS (Proof-of-stake) mechanism. PoS blockchain platforms have the advantage of scalability and have high transaction speeds.</p>,
      key: 1
    },
    {
      question: 'What is the difference between staking and farming?',
      text: <p>Farming differs from staking in two key points. First, in farming you need two coins to convert them into a so-called liquidity token. Second, in farming you can withdraw even less than you sent the tokens into farming. This happens because of the so-called impermanent losses. When the difference in the price of these two coins increases, the amount sent to the farming decreases. Below is a table showing this decrease:
      <br /><br />
      1.25x price change = 0.6% loss<br />
      1.50x price change = 2.0% loss<br />
      1.75x price change = 3.8% loss<br />
      2x price change = 5.7% loss<br />
      3x price change = 13.4% loss<br />
      4x price change = 20.0% loss<br />
      5x price change = 25.5% loss<br />
      <br /><br />
      At short, if you prefer more high profits accompanying with more high risk, farming may be a priority strategy for you. If you prefer more stable profits with average risk, staking is always a good option.</p>,
      key: 2
    },
    {
      question: 'What are the profits from staking?',
      text: <p>The profits from staking vary depending on two factors: APR (APY) and coin exchange rate dynamics.
        APR (APY) defines how much profit you will gain per annum (APY includes compound interest).
        Coin exchange rate dynamics defines a change of coin's price. For example,
        if you stake highly profitable coin with APR = 100% but its exchange rate falls down in a year,
        you will not gain because your staking profits are outbalanced by the collapse of the exchange rate.<br/>
        We offer to solve the problem of selecting an asset for you. Over the years spent in staking we have
        accumulated certain experience in selecting promising assets that give a weighty APY. Using the assets we offer,
        you can increase your amounts of such assets and quickly receive information on market changes,
        recommendations on profitable investment strategies with risk minimization, technological components of projects
        and much more. We will do all the analysis and gather information for you, it's our job.
      </p>,
      key: 3
    },
    {
      question: 'What is APR?',
      text: <p>Annual percentage rate (APR) is the regular annual interest rate. In other words, how much profit as a percentage of the initial deposit you will gain in a year.</p>,
      key: 4
    },
    {
      question: 'What is APY?',
      text: <p>Annual percentage yield (APY) is the annual interest rate when applying the compound interest strategy.
        In other words, how much profit as a percentage of the initial deposit you will gain in a year using the compound interest strategy.
        For the details, please see the point about compound interest below.</p>,
      key: 5
    },
    {
      question: 'What is compound interest?',
      text: <p>Compound interest is a strategy when you immediately send the accrued interest from the investment back into circulation. For example, you invest $100 (your deposit) at 12 percent per annum (the interest rate of an investment tool). Every month you get one percent of the profits added to the deposit. One month later you have $101. Instead of withdrawing that dollar of pure profit and buying a lollipop, you add it to the deposit. As a result, the next month you have a deposit of $100 + $1 = $101. One percent of that is one dollar and one cent. If you put that second month's profit back into your deposit, you will have a third month's investment $101 + $1.01 = $102.01. And your third month's profit is one dollar and two cents! Instead of just one dollar without using the compound interest strategy. <br/>
        For large amounts, compound interest generates impressive profits.<br/>
        Imagine you have $1,000 that you invested at 15% per annum for 40 years.<br/>
        <br/>
        Here's what your profit would look like over the years without using the compound interest strategy:<br/>
        <br/>
        Year 1 = 15% of $1,000 = $150<br/>
        Year 2 = 15% of $1,000 = $150<br/>
        Year 3 = 15% of $1,000 = $150<br/>
        Year 4 = 15% of $1,000= $150<br/>
        Year 5 = 15% of $1,000= $150<br/>
        …<br/>
        Year 20 = 15% of $1,000 = $150<br/>
        Year 25 = 15% of $1,000 = $150<br/>
        Year 30 = 15% of $1,000 = $150<br/>
        year 35 = 15% of $1,000 = $150<br/>
        Year 40 = 15% of $1,000 = $150<br/>
        <br/>
        Your total profit for 40 years: $150*40 = $6000.<br/>
        <br/>
        Here's what your profit would look like over the years if you used the compound interest strategy:<br/>
        <br/>
        Year 1 = 15% of $1,000 = $150<br/>
        Year 2 = 15% of $1,150 = $198<br/>
        Year 3 = 15% of $1,332= $228<br/>
        Year 4 = 15% of $1,520= $262<br/>
        Year 5 = 15% of $1,748= $301<br/>
        …<br/>
        Year 20 = 15% of $14,232 = $2,455<br/>
        Year 25 = 15% of $28.625 = $4,938<br/>
        Year 30 = 15% of $32,919 = $9932<br/>
        year 35 = 15% of $115,805 = $19,976<br/>
        Year 40 = 15% of $232,925 = $40,180<br/>
        <br/>
        Your total profit for 40 years: $40,180.<br/>
        <br/>
        Let's do a delta count: $40,180 - $6000 = $34,180.<br/>
        <br/>
        We are sure you don't need any comments.<br/>
        <br/>
        Einstein called the compound interest the eighth wonder of the world. This tool has made more than a hundred billionaires. It will make you insanely rich!</p>,
      key: 6
    },
    {
      question: 'Why staking, why not a bank deposit?',
      text: <p>Because ROI from staking may be much more higher than one from bank deposits, please see the Solana staking example from the point below.</p>,
      key: 7
    },
    {
      question: 'What is ROI?',
      text: <p>Return on investment (ROI) is a percentage of how much profit an investment made from an initial deposit.
        ROI takes into account both the interest rate and the dynamics of the coin's exchange rate.
        For example, you invested $50 in a Solana coin at 12% APR on June 16, 2020, and you withdraw your deposit and profit after one year on June 15, 2021.
        Since the APR was 12%, you could expect to withdraw $56 (112% of your initial deposit).
        But the Solana coin rate for the year of your investment jumped from $0.57 to $40 for 1 SOL. That is, you invested 87.7 Solana coins,
        a year later you have 98.6. And you withdraw them at $40, so your deposit of 87.7 SOL ($50 on June 16, 2020) is 98.6 SOL ($3942 on June 16, 2021).
        The ROI on your investment is 7884%. If you had made this deposit in dollars instead of SOL, the ROI would have been 12% (equal to the APR).</p>,
      key: 8
    }
  ]

  const expandItem = key => {
    setExpanded([...expanded, key])
  }

  const collapseItem = key => {
    setExpanded(expanded.filter(elem => elem != key))
  }

  const toggleItem = key => {
    expanded.includes(key) ? collapseItem(key) : expandItem(key)
  }

  return (
    <div className="accordeonMenu">
      {items.map(elem => 
      <div className="accordeonMenu__item" key={elem.key}>
        <div className="accordeonMenu__heading" onClick={() => toggleItem(elem.key)}>
        <p>{elem.question}</p>
        {expanded.includes(elem.key) ?
        <CloseIcon onClick={() => toggleItem(elem.key)}/>
        :<MenuExpandIcon onClick={() => toggleItem(elem.key)}/> }
        </div>
        <div className="accordeonMenu__extra" style={expanded.includes(elem.key) ? expandedStyle : {}}>{elem.text}<span></span></div>
      </div>
      )}
    </div>
  )
}
