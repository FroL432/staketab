import {
  SHOW_POPUP,
  SET_POPUP_INFO,
  SET_NET,
  SET_CARDS_INFO
} from './types'
import axios from 'axios';
import config from 'util/config'

const showPopUp = value => ({
  type: SHOW_POPUP,
  payload: value
});

const setPopupInfo = value => ({
  type: SET_POPUP_INFO,
  payload: value
});

const setCardsInfo = value => ({
  type: SET_CARDS_INFO,
  payload: value
})

const setNet = value => ({
  type: SET_NET,
  payload: value
});

const getCardsInfo = (net) => {
  return (dispatch) => {
    axios
    .get(`${config.serverUrl}index.php?net=${net}`)
    .then(res => 
      dispatch(setCardsInfo({data: res.data, net}))  
    )
    .catch(err => console.error(err))
  }
}

export {
  showPopUp,
  setPopupInfo,
  setCardsInfo,
  setNet,
  getCardsInfo
}